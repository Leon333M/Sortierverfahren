\documentclass[10pt, ngerman]{beamer}

\usetheme{Madrid} 

% ----------------------
% Pakete
% ----------------------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amsmath, amssymb}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{geometry}
\usepackage{listings}
\usepackage{float}
\usepackage{mathtools} 
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{positioning, arrows.meta}
\pgfplotsset{compat=1.18}

\hypersetup{
    pdfborder={0 0 0},    % Entfernt alle Rahmen um Links
}

% ----------------------
% C++ Code Settings
% ----------------------
\lstset{
    language=C++,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red},
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=5pt,
    frame=single,
    breaklines=true,
    showstringspaces=false
}

\title[Skalierbarkeit paralleles Sortieren]{Untersuchung der Skalierbarkeit von parallelem Sortieren auf einem Multicore-Prozessor}
\subtitle{Verteidigung der Bachelorarbeit}
\author{Leon Zoerner}
\institute{Informatik}
\date{\today}

\include{Kapitel/Kapitel}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\begin{frame}{Agenda}
    \tableofcontents
\end{frame}

\section{Einleitung}
\begin{frame}{Einleitung: Motivation}
    \textbf{Motivation:}
    \Motivation
\end{frame}

\begin{frame}{Einleitung: Zielsetzung und Forschungsfrage}
    \textbf{Zielsetzung und Forschungsfrage:}
    \ZielsetzungUndForschungsfrage
\end{frame}

\section{Theoretische Grundlagen}
\begin{frame}{Grundlagen der Parallelisierung}
    % Hier Kernpunkte aus \SortieralgorithmenQuicksortMergesort
    % Und \GrundlagenDerParallelisierung
\end{frame}

\section{Methodik und Versuchsaufbau}
\begin{frame}{Messumgebung und Implementierung}
    % Hier Details aus \MessumgebungUndHardware
\end{frame}

\begin{frame}[fragile]{Implementierungsvarianten Code}
    % [fragile] ist nötig für Listings auf Folien
\end{frame}

\section{Ergebnisse und Analyse}
\begin{frame}{Laufzeitmessungen (sequenziell)}
    % Platz für Diagramme aus \GrundlegendeLaufzeitenAbhaengigVonDerArraygroesseDiagramm
\end{frame}

\begin{frame}{Analyse der Threading-Methoden}
    % Vergleich Workerthreads vs. Tiefenbasierte Erzeugung
\end{frame}

\section{Diskussion und Fazit}
\begin{frame}{Beantwortung der Forschungsfrage}
    % Kernpunkte aus \BeantwortungDerForschungsfrage
\end{frame}

\begin{frame}{Zusammenfassung und Ausblick}
    % Kernpunkte aus \Zusammenfassung und \Ausblick
\end{frame}

\begin{frame}
    \centering
    \Huge Vielen Dank für Ihre Aufmerksamkeit!\\
    \vspace{1cm}
    \large Fragen und Diskussion
\end{frame}

\section{Binärbaum}
\begin{frame}{Balancierter Binärbaum für $n = 16$}

    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node {16}
        child {node {8}
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
            }
        child {node {8}
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$, $e=2$}

    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=orange] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=orange] {2}
                                child {node {1}}
                                child {node[fill=orange] {1}}
                            }
                    }
                child {node[fill=blue!30] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node {1}}
                                child {node[fill=blue!30] {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$, $e=2$}

    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=orange] {4}
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                    }
                child {node[fill=blue!30] {4}
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Mergesort:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Mergesort:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=blue!30] {4}
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Mergesort:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=blue!30] {4}
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                    }
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Mergesort:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=blue!30] {4}
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                    }
                child {node[fill=blue!30] {4}
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=blue!30] {1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node[fill=yellow] {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node[fill=orange] {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node[fill=green!30] {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}


\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Quicksort \textbf{Best-Case}:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                    }
                child {node[fill=blue!30] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node {1}}
                                child {node [fill=blue!30]{1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Balancierter Binärbaum für $n = 16$, $p=4$}
    Worker-Thread-Variante Quicksort \textbf{Best-Case}:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=6cm},
            level 2/.style={sibling distance=3cm},
            level 3/.style={sibling distance=1.5cm},
            level 4/.style={sibling distance=0.75cm}
        ]

        \node[fill=green!30] {16}
        child {node[fill=blue!30] {8}
                child {node[fill=green!30] {4}
                        child {node {2}
                                child {node {1}}
                                child {node {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
                child {node[fill=blue!30] {4}
                        child {node[fill=orange] {2}
                                child {node {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=blue!30] {2}
                                child {node[fill=blue!30] {1}}
                                child {node[fill=blue!30]{1}}
                            }
                    }
            }
        child {node[fill=green!30] {8}
                child {node[fill=yellow] {4}
                        child {node[fill=yellow] {2}
                                child {node {1}}
                                child {node[fill=yellow] {1}}
                            }
                        child {node[fill=yellow] {2}
                                child {node {1}}
                                child {node[fill=yellow] {1}}
                            }
                    }
                child {node[fill=green!30] {4}
                        child {node[fill=orange] {2}
                                child {node {1}}
                                child {node[fill=orange] {1}}
                            }
                        child {node[fill=green!30] {2}
                                child {node {1}}
                                child {node[fill=green!30] {1}}
                            }
                    }
            };

    \end{tikzpicture}

\end{frame}

\begin{frame}{Maximal unbalancierter Binärbaum für $n = 4$, $p=2$}
    Worker-Thread-Variante Quicksort \textbf{Worst-Case}:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=4cm},
            level 2/.style={sibling distance=2cm},
            level 3/.style={sibling distance=1.2cm}
        ]

        \node[fill=green!30] {4}
        child {node[fill=blue!30] {1}
            }
        child {node[fill=green!30] {3}
                child {node[fill=blue!30] {1}
                    }
                child {node[fill=green!30] {2}
                        child {node[fill=blue!30] {1}}
                        child {node[fill=green!30] {1}}
                    }
            };

    \end{tikzpicture}
\end{frame}

\begin{frame}{Maximal unbalancierter Binärbaum für $n = 4$, $p=2$}
    Worker-Thread-Variante Quicksort \textbf{Worst-Case}:
    \centering
    \begin{tikzpicture}[
            level distance=1.2cm,
            every node/.style={circle,draw,minimum size=6mm},
            level 1/.style={sibling distance=4cm},
            level 2/.style={sibling distance=2cm},
            level 3/.style={sibling distance=1.2cm}
        ]

        \node[fill=green!30] {4}
        child {node[fill=blue!30] {3}
                child {node[fill=green!30] {2}
                        child {node[fill=blue!30] {1}}
                        child {node[fill=green!30] {1}}
                    }
                child {node[fill=blue!30] {1}}
            }
        child {node[fill=green!30] {1}
            };

    \end{tikzpicture}
\end{frame}

\section{Formeln}
\begin{frame}{Formeln: Mergesort}
    \begin{flalign*}
        T(n)    & = m_1 + m_2 + n                                                                                                             & \\
        T(n)    & = T \left ( \left \lfloor \frac{n}{2} \right \rfloor \right) + T \left ( \left \lceil \frac{n}{2} \right \rceil \right) + n & \\
        T(n)    & = 2 \cdot T \left( \frac{n}{2} \right) + n,                                                                                 & \\
        T(n)    & = n \cdot \log_2(n) + n,                                                                                                    & \\
        O(T(n)) & = O(n \log n).                                                                                                              &
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: Quicksort}
    \textbf{Best-Case} von Quicksort:
    \begin{flalign*}
        T(n)    & = q_1 + q_2 + n                                                                                                             & \\
        T(n)    & = T \left ( \left \lfloor \frac{n}{2} \right \rfloor \right) + T \left ( \left \lceil \frac{n}{2} \right \rceil \right) + n & \\
        T(n)    & = 2 \cdot T \left( \frac{n}{2} \right) + n,                                                                                 & \\
        T(n)    & = n \cdot \log_2(n) + n,                                                                                                    & \\
        O(T(n)) & = O(n \log n).                                                                                                              &
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: Quicksort}
    Der \textbf{Worst-Case} von Quicksort ist:
    \begin{flalign*}
        T(n)    & = q_1 + q_2 + n                      & \\
        T(n)    & = T(n-1) + 1 + n,                    & \\
        T(n)    & = \frac{1}{2} \cdot ( n^2 + n ) + n, & \\
        O(T(n)) & = O(n^2).                            &
    \end{flalign*}

    Der \textbf{heuristisch betrachtete Average-Case} von Quicksort ist:
    \begin{flalign*}
        T(n)    & = q_1 + q_2 + n                                                                                                                                 & \\
        q_1     & = T\left( \frac{1 + \dots + (n-1)}{n-1} \right) = T\left( n \cdot \frac{n-1}{2} \cdot \frac{1}{n-1} \right) = T\left( \frac{n}{2} \right) = q_2 & \\
        T(n)    & = 2 \cdot T\left( \frac{n}{2} \right) + n                                                                                                       & \\
        T(n)    & = n \cdot \log_2(n) + n                                                                                                                         & \\
        O(T(n)) & = O(n \log n).                                                                                                                                  &
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: parallel Mergesort}
    \begin{flalign*}
        p         & = \text{Thread-Anzahl}                                                                               &  & \\
        e         & = \log_2(p)                                                                                          &  & \\
        T(n,e)    & = \begin{cases}
                          2 \cdot T\left(\frac{n}{2}, 0\right) + n   & \text{, wenn } e = 0 \\
                          1 \cdot T\left(\frac{n}{2}, e-1\right) + n & \text{, wenn } e > 0
                      \end{cases}                                 &  &                                       \\
        T(n,p)    & = 2n \left( 1 - \frac{1}{p} \right) + \frac{n}{p} \cdot \log_2\left(\frac{n}{p}\right) + \frac{n}{p} &  & \\
        O(T(n,p)) & = O\left( \frac{n}{p} \cdot \log_2(n) + n \right)                                                    &  & \\
        e_{\max}  & = \log_2(n)                                                                                          &  & \\
        p_{\max}  & = n
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: parallel Quicksort}
    Der \textbf{Best-Case} und \textbf{heuristisch betrachtete Average-Case} von Quicksort ist:
    \begin{flalign*}
        p         & = \text{Thread-Anzahl}                                                                               &  & \\
        e         & = \log_2(p)                                                                                          &  & \\
        T(n,e)    & = \begin{cases}
                          2 \cdot T\left(\frac{n}{2}, 0\right) + n   & \text{, wenn } e = 0 \\
                          1 \cdot T\left(\frac{n}{2}, e-1\right) + n & \text{, wenn } e > 0
                      \end{cases}                                 &  &                                       \\
        T(n,p)    & = 2n \left( 1 - \frac{1}{p} \right) + \frac{n}{p} \cdot \log_2\left(\frac{n}{p}\right) + \frac{n}{p} &  & \\
        O(T(n,p)) & = O\left( \frac{n}{p} \cdot \log_2(n) + n \right)                                                    &  & \\
        e_{\max}  & = \log_2(n)                                                                                          &  & \\
        p_{\max}  & = n
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: parallel Quicksort}
    Der \textbf{Worst-Case} von Quicksort (Worker-Thread-Variante) bei $p > 1$ ist:
    \begin{flalign*}
        T(n)    & = q_2 + n,                       & \\
        T(n)    & = T(n-1) + n,                    & \\
        T(n)    & = \frac{1}{2} \cdot ( n^2 + n ), & \\
        O(T(n)) & = O(n^2).                        &
    \end{flalign*}
\end{frame}

\begin{frame}{Formeln: Einheiten und Skalierung}
    \begingroup
    \setlength{\belowdisplayskip}{-5pt}
    \begin{flalign*}
        x \cdot T(n) & = 2 \cdot T \left( \frac{n}{2} \right) + x \cdot n & \\
        x \cdot T(n) & =  x \cdot n \cdot \log_2(n) + x \cdot n           & \\
        x \cdot T(n) & = x \cdot \left( n \cdot \log_2(n) + n \right)     & \\
    \end{flalign*}
    \endgroup
    Aufgrund von Overheads wie z.\,B. erhöhte Speicherlatenzen durch Cache-Misses:
    \begingroup
    \setlength{\belowdisplayskip}{-10pt}
    \begin{flalign*}
        x      & = f(n,p)     & \\
        f(n,p) & \le f(n+1,p) & \\
        f(n,p) & \le f(n,p+1) & \\
    \end{flalign*}
    \endgroup
    \includegraphics[width=1\textwidth]{Abbildungen/SpeicherlatenzenDiagramm.jpg}
\end{frame}

\begin{frame}{Nebeneffekt des Skalierens mit dem Faktor $x$}

    Sollte die Standard-Formel

    \[
        T(n) = 2T\!\left(\frac{n}{2}\right) + n
    \]

    falsch sein und stattdessen diese Formel gelten

    \[
        T(n) = 2T\!\left(\frac{n}{2}\right) + (n-1)
    \]

    kann man diese auch schreiben als

    \[
        T(n) =
        2T\!\left(\frac{n}{2}\right) + \underbrace{\left(1-\frac{1}{n}\right)}_{x} \cdot n
    \]

    Dabei ist $\left(1-\frac{1}{n}\right)$ implizit auch durch $x$ repräsentiert.
    Durch diesen Nebeneffekt korrigiert der Faktor x auch gleich implizit die Formel.
    Dies macht die Formel nach dem Hochskalieren auf die sequentielle Laufzeit so präzise
    und sorgt damit dafür,
    dass die T(n,p)-Formel so exakt die untere Grenze der Laufzeitverbesserung vorhersagen kann.

\end{frame}

\section{Herleitung T(n,p)}
\begin{frame}{Herleitung T(n,p): Ausgangsdefinition}

    Gegeben ist die Rekursion:

    \[
        T(n,e)=
        \begin{cases}
            2\,T\!\left(\frac{n}{2},0\right)+n
             & \text{falls } e=0 \\[8pt]
            T\!\left(\frac{n}{2},e-1\right)+n
             & \text{falls } e>0
        \end{cases}
    \]

    Zusätzlich gilt:

    \[
        p = 2^e
    \]

\end{frame}

\begin{frame}{Herleitung T(n,p): Entfaltung der Rekursion (1. Schritt)}

    Für $e > 0$ gilt:

    \[
        T(n,e)=T\!\left(\frac{n}{2},e-1\right)+n
    \]

    Ein Einsetzen ergibt:

    \[
        T(n,e)
        =
        T\!\left(\frac{n}{4},e-2\right)
        +
        \frac{n}{2}
        +
        n
    \]

    Noch ein weiteres Einsetzen:

    \[
        T(n,e)
        =
        T\!\left(\frac{n}{8},e-3\right)
        +
        \frac{n}{4}
        +
        \frac{n}{2}
        +
        n
    \]

    Nach $e$ Schritten ergibt sich:

    \[
        T(n,e)
        =
        T\!\left(\frac{n}{2^e},0\right)
        +
        n
        \left(
        1+\frac12+\frac14+\dots+\frac1{2^{e-1}}
        \right)
    \]

\end{frame}

\begin{frame}{Herleitung T(n,p): Auswertung der geometrischen Reihe}

    Die Summe

    \[
        \left(
        1+\frac12+\frac14+\dots+\frac1{2^{e-1}}
        \right) = \sum_{i=0}^{e-1} \frac{1}{2^i}
    \]

    ist eine geometrische Reihe mit Quotient $\frac{1}{2}$.

    Sie ergibt:

    \[
        \sum_{i=0}^{e-1} \frac{1}{2^i}
        =
        2\left(1-\frac1{2^e}\right)
    \]

    Damit folgt:

    \[
        T(n,e)
        =
        T\!\left(\frac{n}{2^e},0\right)
        +
        2n\left(1-\frac1{2^e}\right)
    \]

\end{frame}

\begin{frame}{Herleitung T(n,p): Einsetzen des Basisfalls}

    Für $e=0$ gilt:

    \[
        T(n,0)=2T\!\left(\frac{n}{2},0\right)+n
    \]

    Dies entspricht der Rekursion von sequenziellem Mergesort.

    Bekannt ist:

    \[
        T(n,0)=n\log_2 n + n
    \]

    Ersetzen von $n$ durch $\frac{n}{2^e}$ ergibt:

    \[
        T\!\left(\frac{n}{2^e},0\right)
        =
        \frac{n}{2^e}
        \log_2\!\left(\frac{n}{2^e}\right)
        +
        \frac{n}{2^e}
    \]

    Einsetzen in $T(n,e)$ liefert:

    \[
        T(n,e)
        =
        \frac{n}{2^e}
        \log_2\!\left(\frac{n}{2^e}\right)
        +
        \frac{n}{2^e}
        +
        2n\left(1-\frac1{2^e}\right)
    \]

\end{frame}

\begin{frame}{Herleitung T(n,p): Substitution $p = 2^e$}

    Da gilt:

    \[
        p = 2^e
    \]

    folgt:

    \[
        \frac{n}{2^e} = \frac{n}{p}
    \]

    Damit ergibt sich:

    \[
        T(n,p)
        =
        \frac{n}{p}
        \log_2\!\left(\frac{n}{p}\right)
        +
        \frac{n}{p}
        +
        2n\left(1-\frac1{p}\right)
    \]

    Umsortiert erhält man:

    \[
        T(n,p)
        =
        2n\left(1-\frac1{p}\right)
        +
        \frac{n}{p}\log_2\!\left(\frac{n}{p}\right)
        +
        \frac{n}{p}
    \]

\end{frame}

\end{document}
